<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Turnierbaum – Double Elimination (Test)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .bracket {
      display: flex;
      justify-content: space-around;
      gap: 50px;
    }

    .round {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .match {
      border: 2px solid #444;
      border-radius: 10px;
      padding: 10px;
      background: #222;
      width: 160px;
      text-align: center;
    }

    .loser {
      margin-top: 40px;
    }

    .finals {
      margin-top: 60px;
      border: 2px solid gold;
      background: #333;
    }
  </style>
</head>
<body>
  <h1>Double Elimination – Testdaten</h1>
  <div id="bracket" class="bracket"></div>

  <script>
    // Test-Teams (8 Teams)
    const teams = ["Team A","Team B","Team C","Team D","Team E","Team F","Team G","Team H"];

    // Funktion: Matches aus Teams erzeugen
    function createMatches(arr) {
      let matches = [];
      for (let i = 0; i < arr.length; i += 2) {
        matches.push([arr[i] || "TBD", arr[i+1] || "TBD"]);
      }
      return matches;
    }

    // Gewinnerseite (Winner Bracket)
    let winnerRounds = [];
    winnerRounds.push(createMatches(teams)); // Runde 1
    winnerRounds.push(createMatches(Array(winnerRounds[0].length).fill("TBD"))); // Runde 2
    winnerRounds.push(createMatches(Array(winnerRounds[1].length).fill("TBD"))); // Halbfinale
    winnerRounds.push([["TBD","TBD"]]); // Finale Winner

    // Verliererseite (Loser Bracket)
    let loserRounds = [];
    loserRounds.push(createMatches(Array(winnerRounds[0].length).fill("TBD")));
    loserRounds.push(createMatches(Array(winnerRounds[1].length).fill("TBD")));
    loserRounds.push(createMatches(Array(winnerRounds[2].length).fill("TBD")));
    loserRounds.push([["TBD","TBD"]]);

    // Gesamtes Bracket rendern
    function renderBracket() {
      const bracket = document.getElementById("bracket");
      bracket.innerHTML = "";

      // Winner Bracket
      const winners = document.createElement("div");
      winners.className = "rounds";
      winnerRounds.forEach((round, i) => {
        const r = document.createElement("div");
        r.className = "round";
        r.innerHTML = `<h3>Winner Runde ${i+1}</h3>`;
        round.forEach(match => {
          const m = document.createElement("div");
          m.className = "match";
          m.innerHTML = `<div>${match[0]}</div><div>${match[1]}</div>`;
          r.appendChild(m);
        });
        winners.appendChild(r);
      });

      // Loser Bracket
      const losers = document.createElement("div");
      losers.className = "rounds loser";
      loserRounds.forEach((round, i) => {
        const r = document.createElement("div");
        r.className = "round";
        r.innerHTML = `<h3>Loser Runde ${i+1}</h3>`;
        round.forEach(match => {
          const m = document.createElement("div");
          m.className = "match";
          m.innerHTML = `<div>${match[0]}</div><div>${match[1]}</div>`;
          r.appendChild(m);
        });
        losers.appendChild(r);
      });

      // Finale
      const finals = document.createElement("div");
      finals.className = "round finals";
      finals.innerHTML = `<h3>Grand Final</h3><div class="match"><div>TBD</div><div>TBD</div></div>`;

      bracket.appendChild(winners);
      bracket.appendChild(losers);
      bracket.appendChild(finals);
    }

    renderBracket();
  </script>
</body>
</html>
